<div class="grid" style="margin-top: 15px;">
    <p><span class="p-text-Primary" style="font-size: 13px;" id="userdetails"></span>
        <span class="p-text-Warning" style="font-size: 13px;" id="applicationstatus"></span>
        <span class="p-text-Primary" style="font-size: 13px;" id="assessmenttype"></span>
   </p>
</div>
<div class="grid" style="margin-top: 15px;width:100%;">
    <div class="card" style="width:100%;">
        <h6>External Moderation</h6>
        <div class="card">
            <div class="col-12">
                <div class="forms">
                    <h6>Moderation Details</h6>
                 <div class="p-fluid grid">
                    <div class="field col-12 md:col-3">
                        <label htmlFor="name" style="font-size:12px;">Validation Bacth Number (*)</label>
                        <input id="name" disabled [(ngModel)]="valbacthnumber" type="text" pInputText/>
                    </div>
                    <div class="field col-12 md:col-3">
                        <label htmlFor="name" style="font-size:12px;">Quality Assuror (*)</label>
                        <input id="name" disabled [(ngModel)]="qualityAssessor" type="text" pInputText/>
                    </div>
                    <div class="field col-12 md:col-3">
                        <label htmlFor="name" style="font-size:12px;">Date Of Moderation (*)</label>
                        <input id="name" disabled [(ngModel)]="ModerationDate" type="text" pInputText/>
                    </div>
                 </div>
                </div>
                <div class="forms">
                    <h6>Provider Details</h6>
                 <div class="p-fluid grid">
                    <div class="field col-12 md:col-6">
                        <label htmlFor="name" style="font-size:12px;">Name Of Provider (*)</label>
                        <input id="name" disabled [(ngModel)]="providername" type="text" pInputText/>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label htmlFor="name" style="font-size:12px;">Provider Accreditation Number (*)</label>
                        <input id="name" disabled [(ngModel)]="provideraccred" type="text" pInputText/>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label style="font-size:12px;">Provider has loaded Credits? (*)</label>
                        <div class="col-12">
                            <div class="">
                                <div class="field-radiobutton">
                                    <p-radioButton name="city"  [disabled]="disabledall" value="Yes" [(ngModel)]="checkcredit"  id="city1" (ngModelChange)="onCheckCredit()"></p-radioButton>
                                    <label for="city1">Yes</label>
                                </div>
                            </div>
                            <div class="">
                                <div class="field-radiobutton">
                                    <p-radioButton name="city"  [disabled]="disabledall" value="No" [(ngModel)]="checkcredit"  id="city2" (ngModelChange)="onCheckCredit()"></p-radioButton>
                                    <label for="city2">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label htmlFor="name" style="font-size:12px;">Remarks (*)</label>
                        <textarea id="name" rows="2" cols="30"  [disabled]="disabledall" [(ngModel)]="remarks" type="text" pInputTextarea></textarea>
                    </div>
                 </div>
                </div>
             </div>
        </div>
        <div class="card">
            <div class="col-12">
                <div class="forms">
                    <h6>Learner Details</h6>
                 <div class="p-fluid grid">
                    <div class="field col-12 md:col-6">
                        <label htmlFor="name" style="font-size:12px;">Qualification/Skills Program/Unit Standard Validated (*)</label>
                        <input id="name" disabled [(ngModel)]="qualification" type="text" pInputText/>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label htmlFor="name" style="font-size:12px;">Qualification/Program ID (*)</label>
                        <input id="name" disabled [(ngModel)]="qualificationid" type="text" pInputText/>
                    </div>
                    <div class="field col-12 md:col-4">
                        <label htmlFor="name" style="font-size:12px;">Stage Of Moderation (*)</label>
                        <input id="name" disabled [(ngModel)]="stageofmoderation" type="text" pInputText/>
                    </div>
                    <div class="field col-12 md:col-4">
                        <label htmlFor="name" style="font-size:12px;">Number Of Learner's (*)</label>
                        <input id="name" disabled [(ngModel)]="numberoflearners" type="text" pInputText/>
                    </div>
                    <div class="field col-12 md:col-4">
                        <label htmlFor="name" style="font-size:12px;">Number Of Assessor's (*)</label>
                        <input id="name" disabled [(ngModel)]="numberofAssessors" type="text" pInputText/>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label style="font-size:12px;">Learners Employmrnt Status? (*)</label>
                        <div class="grid">
                            <div class="col-12 md:col-4">
                                <div class="field-radiobutton">
                                    <p-radioButton name="city" value="Yes" [disabled]="disabledall" [(ngModel)]="employmentstatus"  id="city1" (ngModelChange)="onEmploymentStatus()"></p-radioButton>
                                    <label for="city1">Employed</label>
                                </div>
                            </div>
                            <div class="col-12 md:col-4">
                                <div class="field-radiobutton">
                                    <p-radioButton name="city" value="No" [disabled]="disabledall" [(ngModel)]="employmentstatus"  id="city2" (ngModelChange)="onEmploymentStatus()"></p-radioButton>
                                    <label for="city2">Unemployed</label>
                                </div>
                            </div>
                        </div>
                    </div>
                 </div>
                </div>
             </div>
        </div>
        <div class="card">
            <div class="col-12">
                <div class="field col-12 md:col-12">
                    <h6>External Moderation</h6>
                    <p-table class="mat-card-header" [value]="externalmoderationQuestions"  responsiveLayout="scroll">
                        <ng-template pTemplate="header">
                            <tr>
                                <th style="background-color:#a1865b;color:#fff;">Compliance and Assessment Process</th>
                                <th style="background-color:#a1865b;color:#fff;">Yes</th>
                                <th style="background-color:#a1865b;color:#fff;">No</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-extquestion>
                            <tr>
                                <td>{{extquestion.question}}</td>
                                <td>
                                    <p-radioButton name="city1" [disabled]="disabledall" value="Yes" [(ngModel)]="extquestion.externalModerationQuestionSectionId"  id="city1" (ngModelChange)="onExternanlModerationQuestion($event)"></p-radioButton>
                                </td>
                                <td>
                                    <p-radioButton name="city1" [disabled]="disabledall"  value="No"  [(ngModel)]="extquestion.externalModerationQuestionSectionId"  id="city1" (ngModelChange)="onExternanlModerationQuestion($event)"></p-radioButton> 
                                </td>
                            </tr>
                        </ng-template>
                    </p-table>
                    <div class="col-12 lg:col-12">
                        <div class="forms">
                            <div class="col-12">
                                    <div class="p-fluid grid">
                                        <div class="field col-12 md:col-6">
                                            <label htmlFor="name" style="font-size:12px;">Commnets (*)</label>
                                            <textarea id="name" rows="5" cols="30"  [disabled]="disabledall" [(ngModel)]="extquestionComments" type="text" pInputTextarea></textarea>
                                        </div>
                                        <div class="field col-12 md:col-6">
                                            <label>Evidence (*)</label>
                                            <p-fileUpload name="myfile[]"  [disabled]="disabledall" maxFileSize="1000000" [customUpload]="true" (uploadHandler)="myUploaderotherdocs($event)"></p-fileUpload>
                                        </div>
                                    </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="col-12">
                <div class="forms">
                    <h6>External Moderation</h6>
                 <div class="p-fluid grid">
                    <div class="field col-12 md:col-6">
                        <label htmlFor="name" style="font-size:12px;">Assessor's Behaviour (*)</label>
                        <textarea id="name" rows="2" cols="30"  [disabled]="disabledall" [(ngModel)]="assessorbehaviour" type="text" pInputTextarea></textarea>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label htmlFor="name" style="font-size:12px;">Assessment Tools and Documentation (*)</label>
                        <textarea id="name" rows="2" cols="30"  [disabled]="disabledall" [(ngModel)]="assessmenttoolsdocumentation" type="text" pInputTextarea></textarea>
                    </div>
                 </div>
                </div>
                <div class="forms">
                 <div class="p-fluid grid">
                    <div class="field col-12 md:col-12">
                        <label htmlFor="name" style="font-size:12px;">Validation Findings and Recommendation (*)</label>
                        <textarea id="name" rows="3" cols="30"  [disabled]="disabledall" [(ngModel)]="validationfindingrecomendation" type="text" pInputTextarea></textarea>
                    </div>
                 </div>
                </div>
             </div>
        </div>
        <div class="card">
            <div class="col-12">
                <div class="field col-12 md:col-12">
                    <h6>Learners</h6>
                    <div class="p-fluid grid">
                        <div class="field col-12 md:col-6">
                            <label style="font-size:12px;">Validation Decision (*)</label>
                            <div class="grid">
                                <div class="col-12 md:col-4">
                                    <div class="field-radiobutton">
                                        <p-radioButton name="city" value="Yes"  [(ngModel)]="upheld"  id="city1" (ngModelChange)="onUpheld()"></p-radioButton>
                                        <label for="city1">Upheld</label>
                                    </div>
                                </div>
                                <div class="col-12 md:col-4">
                                    <div class="field-radiobutton">
                                        <p-radioButton name="city" value="No" [(ngModel)]="upheld"  id="city2" (ngModelChange)="onUpheld()"></p-radioButton>
                                        <label for="city2">Rejected</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-fluid grid" *ngIf="isShown">
                        <div class="field col-12 md:col-6">
                            <p-multiSelect [options]="rejectionReasosns" [(ngModel)]="selectedReason" defaultLabel="Select a City" optionLabel="description" selectedItemsLabel="{0} items selected" (onChange)="onSelectReason($event)"></p-multiSelect>
                            <!--<p-multiSelect [options]="rejectionReasosns" [(ngModel)]="selectedReason" optionLabel="description" optionValue="id" [filter]="true" filterBy="description" (onChange)="onSelectReason($event)" selectedItemsLabel="{0} items selected" [showClear]="true" placeholder="Select Rejection Reason">
                             <ng-template let-country pTemplate="item">
                                 <div class="country-item">
                                     <div>{{country.code}} {{country.description}}</div>
                                 </div>
                               </ng-template>
                            </p-multiSelect> -->
                          </div> 
                    </div>
                    <p-table class="mat-card-header" [value]="learners"  responsiveLayout="scroll">
                        <ng-template pTemplate="header">
                            <tr>
                                <th style="background-color:#a1865b;color:#fff;">Name</th>
                                <th style="background-color:#a1865b;color:#fff;">Surname</th>
                                <th style="background-color:#a1865b;color:#fff;">ID Number</th>
                                <th style="background-color:#a1865b;color:#fff;">Issue SOR</th>
                                <th style="background-color:#a1865b;color:#fff;">Qualification/SP/US Archieved</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-learn>
                            <tr>
                                <td>{{learn.firstName}}</td>
                                <td>{{learn.lastName}}</td>
                                <td>{{learn.email}}</td>
                                <td>
                                  <div class="grid">
                                    <div class="col-12 md:col-4">
                                        <div class="field-radiobutton">
                                            <p-radioButton name="city" disabled value="Yes" [(ngModel)]="learn.id"  id="city1" (ngModelChange)="onIssueSOR($event)"></p-radioButton>
                                            <label for="city1">Yes</label>
                                        </div>
                                    </div>
                                    <div class="col-12 md:col-4">
                                        <div class="field-radiobutton">
                                            <p-radioButton name="city" disabled value="No" [(ngModel)]="learn.id"  id="city2" (ngModelChange)="onIssueSOR($event)"></p-radioButton>
                                            <label for="city2">No</label>
                                        </div>
                                     </div>
                                    </div>
                                </td>
                                <td>
                                    <div class="grid">
                                        <div class="col-12 md:col-3">
                                            <div class="field-radiobutton">
                                                <p-radioButton name="city" disabled value="Yes" [(ngModel)]="learn.rsaIdNumber"  id="city1" (ngModelChange)="onQualSPUS($event)"></p-radioButton>
                                                <label for="city1">Yes</label>
                                            </div>
                                        </div>
                                        <div class="col-12 md:col-3">
                                            <div class="field-radiobutton">
                                                <p-radioButton name="city" disabled value="No" [(ngModel)]="learn.rsaIdNumber"  id="city2" (ngModelChange)="onQualSPUS($event)"></p-radioButton>
                                                <label for="city2">No</label>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            </div>
            <div class="col-12">
                <div class="forms">
                    <h6>Validation Findings and Recommendation</h6>
                 <div class="p-fluid grid">
                    <div class="field col-12 md:col-6">
                        <label htmlFor="name" style="font-size:12px;">Name Of Quality Assuror (*)</label>
                        <input id="name" disabled [(ngModel)]="qualityAssessor" type="text" pInputText/>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label htmlFor="name" style="font-size:12px;">Date (*)</label>
                        <p-calendar id="button" [(ngModel)]="quassurordate" dateFormat="dd/mm/yy"  [disabled]="disabledall"  appendTo="body"></p-calendar>
                    </div>
                 </div>
                </div>
            </div>
        </div>
        <p-toast key="tst" [baseZIndex]="99999"></p-toast>
        <p-messages [value]="msgs"></p-messages>
        <div class="col-12">
            <div class="grid">
                    <button pButton pRipple class="continue-button"   label="Success" type="button" label="Submit External Moderation" (click)="SubmitExternal()"></button> 
            </div>
        </div>
    </div>
</div>
